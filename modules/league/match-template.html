<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');
    
    * { box-sizing: border-box; margin: 0; padding: 0; }
    
    body {
      width: 1350px;
      height: 900px; /* Reduced height since legend is gone */
      background-color: #010a13;
      font-family: 'Roboto', sans-serif;
      color: #a09b8c;
      padding: 30px;
    }

    /* --- Headers --- */
    .header { display: flex; justify-content: space-between; align-items: flex-end; padding-bottom: 20px; border-bottom: 2px solid #1e2328; margin-bottom: 10px; }
    .outcome { font-size: 42px; font-weight: 700; text-transform: uppercase; letter-spacing: 3px; }
    .victory { color: #0acbe6; text-shadow: 0 0 10px rgba(10, 203, 230, 0.3); }
    .defeat { color: #e84057; text-shadow: 0 0 10px rgba(232, 64, 87, 0.3); }
    .meta-info { text-align: right; font-size: 16px; color: #939a9e; }

    .table-header {
      display: grid;
      grid-template-columns: 70px 60px 200px 290px 120px 180px 100px 80px 80px;
      padding: 0 0 5px 0; font-size: 12px; font-weight: 700; color: #5c5b57;
      text-transform: uppercase; letter-spacing: 1px; text-align: center;
    }
    .th-left { text-align: left; padding-left: 15px; }
    .th-right { text-align: right; padding-right: 20px; }

    /* --- Rows --- */
    .player-row {
      display: grid;
      grid-template-columns: 70px 60px 200px 290px 120px 180px 100px 80px 80px;
      align-items: center; height: 58px; background: #0f1216;
      border-bottom: 1px solid #1e2328; margin-bottom: 4px;
    }
    .team-100 .player-row { border-left: 5px solid #0acbe6; }
    .team-200 .player-row { border-left: 5px solid #e84057; }
    .is-local { background-color: #262118; border: 1px solid #c8aa6e; }

    /* --- Columns --- */
    .col-champ { position: relative; display: flex; justify-content: center; align-items: center; }
    .champ-img { width: 44px; height: 44px; border-radius: 50%; border: 2px solid #333; }
    .level-badge { position: absolute; bottom: 0; right: 10px; background: #000; color: white; font-size: 11px; width: 18px; height: 18px; border-radius: 50%; text-align: center; line-height: 18px; border: 1px solid #c8aa6e; }

    .col-spells { display: flex; flex-direction: column; gap: 2px; justify-content: center; }
    .spell-row { display: flex; gap: 4px; }
    .tiny-icon { width: 22px; height: 22px; border-radius: 3px; background: #181b1f; display: block; }

    /* --- UPDATED BADGE CSS --- */
    .col-name { padding-left: 15px; display: flex; flex-direction: column; justify-content: center; overflow: hidden; }
    .summoner-name { color: #fff; font-weight: 700; font-size: 15px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 170px; }
    .champion-name { color: #888; font-size: 11px; margin-bottom: 1px; }

    .badge-container { display: flex; gap: 4px; margin-top: 1px; flex-wrap: wrap; }
    .badge {
      display: inline-flex; align-items: center; gap: 4px;
      background: #1e2328; border: 1px solid #333; border-radius: 4px;
      padding: 1px 5px; height: 18px; 
      font-size: 10px; color: #939a9e; font-weight: 500; text-transform: uppercase;
    }
    /* Icon styling inside badge */
    .badge svg { width: 10px; height: 10px; fill: #939a9e; }
    /* Highlight badge on hover (optional since it's an image, but good for testing) */
    .badge:last-child { margin-right: 0; }
    
    /* --- Other Columns --- */
    .col-items { display: flex; gap: 4px; align-items: center; }
    .item-icon { width: 32px; height: 32px; border-radius: 4px; background: #141619; border: 1px solid #333; }
    .trinket { margin-left: 6px; border-radius: 50%; }
    .role-item { border: 1px solid #c8aa6e; }
    .placeholder { opacity: 0; }

    .col-kda { text-align: center; font-size: 15px; color: #fff; letter-spacing: 0.5px; }
    .kda-sub { font-size: 12px; color: #666; display: block; margin-top: 2px; }

    .col-damage { display: flex; flex-direction: column; justify-content: center; align-items: flex-start; padding-right: 20px; }
    .damage-num { font-size: 13px; color: #939a9e; margin-bottom: 4px; }
    .damage-bar-bg { width: 100%; height: 6px; background: #1c1f24; position: relative; border-radius: 2px; }
    .damage-bar-fill { height: 100%; background: #e84057; display: block; border-radius: 2px; }
    .team-100 .damage-bar-fill { background: #0acbe6; }

    .col-gold { text-align: right; color: #c8aa6e; font-size: 14px; padding-right: 20px; font-weight: 500; }
    .col-cs { text-align: right; color: #939a9e; font-size: 14px; padding-right: 20px; }
    .col-vision { text-align: center; color: #939a9e; font-size: 14px; }

  </style>
</head>
<body>

  <div class="header">
    <div class="outcome {{resultClass}}">{{uploaderResult}}</div>
    <div class="meta-info">{{gameMode}} • {{duration}}</div>
  </div>

  <div class="table-header">
    <div></div><div></div>
    <div class="th-left">Summoner</div>
    <div class="th-left">Items</div>
    <div>KDA</div>
    <div class="th-left">Damage</div>
    <div class="th-right">Gold</div>
    <div class="th-right">CS</div>
    <div>Vision</div>
  </div>

  <div class="team-container team-100">
    <div style="display:flex; justify-content:space-between; padding:5px 10px; font-weight:bold; font-size:13px; color:#0acbe6;">
        <span>{{#if t100Win}}VICTORY{{else}}DEFEAT{{/if}} (Blue Team)</span>
        <span>{{t100Stats.k}} / {{t100Stats.d}} / {{t100Stats.a}} • {{t100Stats.gold}} Gold</span>
    </div>
    
    {{#each team100}}
      <div class="player-row {{#if isLocal}}is-local{{/if}}">
        <div class="col-champ"><img src="{{championIcon}}" class="champ-img"><div class="level-badge">{{level}}</div></div>
        <div class="col-spells">
          <div class="spell-row"><img src="{{spell1}}" class="tiny-icon"><img src="{{spell2}}" class="tiny-icon"></div>
          <div class="spell-row"><img src="{{rune1}}" class="tiny-icon"><img src="{{rune2}}" class="tiny-icon"></div>
        </div>
        
        <div class="col-name">
          <div class="summoner-name">{{name}}</div>
          <div class="champion-name">{{championName}}</div>
          <div class="badge-container">
            {{#each badges}}
              <span class="badge">{{{icon}}} {{text}}</span>
            {{/each}}
          </div>
        </div>

        <div class="col-items">
          {{#each displayItems}}
             <img src="{{url}}" class="item-icon {{#if isTrinket}}trinket{{/if}} {{#if isRole}}role-item{{/if}} {{#if isPlaceholder}}placeholder{{/if}}">
          {{/each}}
        </div>
        <div class="col-kda"><div>{{k}} / {{d}} / {{a}}</div><span class="kda-sub">{{kdaRatio}}</span></div>
        <div class="col-damage"><div class="damage-num">{{totalDamage}}</div><div class="damage-bar-bg"><div class="damage-bar-fill" style="width: {{damagePercent}}%;"></div></div></div>
        <div class="col-gold">{{gold}}</div>
        <div class="col-cs">{{cs}}</div>
        <div class="col-vision">{{vision}}</div>
      </div>
    {{/each}}
  </div>

  <div class="team-container team-200">
    <div style="display:flex; justify-content:space-between; padding:5px 10px; font-weight:bold; font-size:13px; color:#e84057;">
        <span>{{#if t200Win}}VICTORY{{else}}DEFEAT{{/if}} (Red Team)</span>
        <span>{{t200Stats.k}} / {{t200Stats.d}} / {{t200Stats.a}} • {{t200Stats.gold}} Gold</span>
    </div>
    {{#each team200}}
      <div class="player-row {{#if isLocal}}is-local{{/if}}">
        <div class="col-champ"><img src="{{championIcon}}" class="champ-img"><div class="level-badge">{{level}}</div></div>
        <div class="col-spells">
          <div class="spell-row"><img src="{{spell1}}" class="tiny-icon"><img src="{{spell2}}" class="tiny-icon"></div>
          <div class="spell-row"><img src="{{rune1}}" class="tiny-icon"><img src="{{rune2}}" class="tiny-icon"></div>
        </div>
        <div class="col-name">
          <div class="summoner-name">{{name}}</div>
          <div class="champion-name">{{championName}}</div>
          <div class="badge-container">
            {{#each badges}}
              <span class="badge">{{{icon}}} {{text}}</span>
            {{/each}}
          </div>
        </div>
        <div class="col-items">
          {{#each displayItems}}
             <img src="{{url}}" class="item-icon {{#if isTrinket}}trinket{{/if}} {{#if isRole}}role-item{{/if}} {{#if isPlaceholder}}placeholder{{/if}}">
          {{/each}}
        </div>
        <div class="col-kda"><div>{{k}} / {{d}} / {{a}}</div><span class="kda-sub">{{kdaRatio}}</span></div>
        <div class="col-damage"><div class="damage-num">{{totalDamage}}</div><div class="damage-bar-bg"><div class="damage-bar-fill" style="width: {{damagePercent}}%;"></div></div></div>
        <div class="col-gold">{{gold}}</div>
        <div class="col-cs">{{cs}}</div>
        <div class="col-vision">{{vision}}</div>
      </div>
    {{/each}}
  </div>

  </body>
</html>